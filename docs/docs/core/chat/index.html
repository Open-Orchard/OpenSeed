<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">


<title data-react-helmet="true">Chat | OpenSeed Docs</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Chat | OpenSeed Docs"><meta data-react-helmet="true" name="description" content="OpenSeed-chat is a &quot;lowest common denominator&quot; encrypted chat service for individuals and groups using the OpenSeed hierarchical security setup.  "><meta data-react-helmet="true" property="og:description" content="OpenSeed-chat is a &quot;lowest common denominator&quot; encrypted chat service for individuals and groups using the OpenSeed hierarchical security setup.  "><meta data-react-helmet="true" property="og:url" content="https://open-orchard.github.io/OpenSeed/docs/core/chat">

<link data-react-helmet="true" rel="shortcut icon" href="/OpenSeed/img/favicon.ico">


<link rel="stylesheet" href="/OpenSeed/styles.73ab9c40.css">


<link rel="preload" href="/OpenSeed/styles.f99f6f6b.js" as="script">

<link rel="preload" href="/OpenSeed/runtime~main.ca8c8091.js" as="script">

<link rel="preload" href="/OpenSeed/main.9dff1857.js" as="script">

<link rel="preload" href="/OpenSeed/1.77ac864f.js" as="script">

<link rel="preload" href="/OpenSeed/2.c2d2da53.js" as="script">

<link rel="preload" href="/OpenSeed/3.e33859dc.js" as="script">

<link rel="preload" href="/OpenSeed/1be78505.78e5d47f.js" as="script">

<link rel="preload" href="/OpenSeed/9acbcac7.98ee0c52.js" as="script">

<link rel="preload" href="/OpenSeed/17896441.925f9cc8.js" as="script">

<link rel="preload" href="/OpenSeed/a6f13642.dc09eced.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/OpenSeed/"><img class="navbar__logo" src="/OpenSeed/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">OpenSeed</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/OpenSeed/docs/about">Docs</a><a class="navbar__item navbar__link" href="/OpenSeed/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/Open-Orchard/OpenSeed" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/OpenSeed/"><img class="navbar__logo" src="/OpenSeed/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">OpenSeed</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/OpenSeed/docs/about">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/blog">Blog</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/Open-Orchard/OpenSeed" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/about">About</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/security">Encryption</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/getstarted">Getting Started</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/web/about">About</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Game</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/about">About</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Godot</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/godot_installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/godot_account">Account Functions</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/chat">chat</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/saves">saves</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/music">music</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/images">images</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/achievements">achievements</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Core</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/core/about">About</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/core/account">Accounts</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/OpenSeed/docs/core/chat">Chat</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/core/music">Music</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/core/util">Utilities</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Chat</h1></header><div class="markdown"><p>OpenSeed-chat is a &quot;lowest common denominator&quot; encrypted chat service for individuals and groups using the OpenSeed hierarchical security setup.  </p><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="current-implementation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#current-implementation" title="Direct link to heading">#</a>Current implementation:</h1><p>The chat module was designed with applications and games in mind where in these systems would control the flow of the chat based on the needs of the application and using the applications built in timing. Thus a application dependent on chat may query the server every second where an app that is less dependent may decrease the update requests for bandwidth or other issues. </p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>Push Based chat is in the works and will be live as soon as we can make it work on at least 80% of our targets.</p></div></div><ul><li><p>P2P chat: The standard chat model within OpenSeed. Users have consented to the connection an have shared (via OpenSeed) the encryption key. No users can be added to this chat and will continue to be valid as long as the users of the chat retain the key. </p></li><li><p>Group chat: Group chats come in two modes, an open mode where any user can join the chat as long as they are authenticated, and private groups whose list is controlled by the creator of the group. </p></li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Chat functions will be extended to offer general messaging for things like comments on posts,notes, or forum like features. A rename is possible at that time. </p></div></div><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="functions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#functions" title="Direct link to heading">#</a>Functions</h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="setup"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#setup" title="Direct link to heading">#</a>Setup</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="get-conversations"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#get-conversations" title="Direct link to heading">#</a>Get Conversations:</h3><p>Used to quickly get a list of chat-rooms the users is a part of based on their unique token. </p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>This can be used as the basis of most chat loops as it sends just enough information for the developer to call other functions.</p></div></div><p><strong>Call</strong>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">msg=&#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;act&quot;:&quot;get_conversations&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;devPub&quot;:&quot;&lt;devPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;appPub&quot;:&quot;&lt;appPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;token&quot;:&quot;&lt;user token&gt;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }&#x27;</span></div></div></div></div></div><p><strong>Return</strong>:</p><blockquote><p>{&quot;conversations&quot;:[{&quot;room&quot;:&quot;roomId&quot;,&quot;attendees&quot;:&quot;comma,separate,values&quot;,&quot;title&quot;:&quot;&quot;,&quot;index&quot;:last message},...]}</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="create-chatroom"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-chatroom" title="Direct link to heading">#</a>Create Chatroom:</h3><p><strong>Call</strong>:</p><p>OpenSeed automatically creates chat-rooms for 1 on 1 conversations but the user will need to manually create larger rooms. For that we use create_chatroom.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">msg=&#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;act&quot;:&quot;create_chatroom&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;devPub&quot;:&quot;&lt;devPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;appPub&quot;:&quot;&lt;appPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;token&quot;:&quot;&lt;user token&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;title&quot;:&quot;&quot;,&quot;attendees&quot;:&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><p><strong>Return</strong>:</p><blockquote><p>{&quot;type&quot;:&quot;server&quot;,&quot;room&quot;:&quot;roomId&quot;,&quot;title&quot;:&quot;your given title&quot;,&quot;key&quot;:&quot;encryption key&quot;}</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="finding-rooms"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#finding-rooms" title="Direct link to heading">#</a>Finding Rooms:</h3><p>Given the consensual nature of OpenSeed Chat (you have to be connected to the owner of the chatroom) finding a room is done by checking the list of attendees and if you are one of them the room id is returned along with information needed to connect to it.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>In the near future we will have other room finding options such as &quot;by title&quot; and &quot;by community&quot; </p></div></div><p><strong>Call</strong>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">msg=&#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;act&quot;:&quot;find_room_by_attendees&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;devPub&quot;:&quot;&lt;devPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;appPub&quot;:&quot;&lt;appPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;token&quot;:&quot;&lt;user token&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;attendees&quot;:&quot;&lt;comma,seperated,value&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;create&quot;:&lt;boolean&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><p><strong>Return</strong>:</p><ul><li>Success:<blockquote><p>{&quot;type&quot;:&quot;server&quot;,&quot;room&quot;:&quot;roomId&quot;,&quot;title&quot;:&quot;room title&quot;,&quot;key&quot;:&quot;encryption Key&quot;}</p></blockquote></li><li>No room found (and create set false)<blockquote><p>{&quot;type&quot;:&quot;server&quot;,&quot;room&quot;:&quot;roomId&quot;,&quot;title&quot;:&quot;room title&quot;,&quot;key&quot;:&quot;error&quot;}</p></blockquote></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="register-in-chat"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#register-in-chat" title="Direct link to heading">#</a>Register in Chat:</h3><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>Needs rework and rename, currently unused and may be deleted.</p></div></div><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">**Call**:</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">msg=&#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;act&quot;:&quot;set_key&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;devPub&quot;:&quot;&lt;devPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;appPub&quot;:&quot;&lt;appPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;token&quot;:&quot;&lt;user token&gt;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }&#x27;</span></div></div></div></div></div><p><strong>Return</strong>:</p><blockquote><p>code</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="get-key"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#get-key" title="Direct link to heading">#</a>Get Key:</h3><p>Due to the nature of OpenSeed encryption keys must be stored on the server for a short time to allow users to jump from client to client. These encryption keys (which are unique to the chatroom) are likewise encrypted by the user&#x27;s unique key. </p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p> This functionality is extremely important to get right, and we are constantly improving the process.</p></div></div><p><strong>Call</strong>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">msg=&#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;act&quot;:&quot;get_key&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;devPub&quot;:&quot;&lt;devPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;appPub&quot;:&quot;&lt;appPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;token&quot;:&quot;&lt;user token&gt;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }&#x27;</span></div></div></div></div></div><p><strong>Returns</strong>:</p><ul><li>Success<blockquote><p>{&quot;room&quot;:&quot;roomId&quot;,&quot;code&quot;:&quot;encryption key&quot;}</p></blockquote></li><li>Failure<blockquote><p>{&quot;room&quot;:&quot;denied&quot;,&quot;code&quot;:&quot;denied&quot;}</p></blockquote></li></ul><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="chat-room-functions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#chat-room-functions" title="Direct link to heading">#</a>Chat room Functions</h2><p><strong>Get Chat History</strong>:</p><p>Used to get the backlog of chat messages quickly. </p><ul><li><strong>Count</strong>: The number of messages you want to pull from the history</li><li><strong>last</strong>: The last message you have stored in cache or have displayed. Setting this to 0 will give you the latest message.</li></ul><p><strong>Call</strong>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">msg=&#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;act&quot;:&quot;get_chat_history&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;devPub&quot;:&quot;&lt;devPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;appPub&quot;:&quot;&lt;appPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;token&quot;:&quot;&lt;user token&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;room&quot;:&quot;&lt;roomId&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;count&quot;:&lt;number&gt;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;last&quot;:&lt;number&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div><p><strong>Return</strong>:</p><blockquote><p>{&quot;chat_history&quot;:[{&quot;speaker&quot;:&quot;&quot;,&quot;room&quot;:&quot;&quot;,&quot;message&quot;:&quot;&quot;,&quot;index&quot;:&quot;&quot;,&quot;date&quot;:&quot;&quot;},...]}</p></blockquote><p><strong>Get Chat</strong>:</p><p>Nearly identical to Get Chat History. Get Chat returns the NEXT message based on last. Just like the above function last represents the &quot;last&quot; message the client has received. </p><p><strong>Call</strong>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">msg=&#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;act&quot;:&quot;get_chat&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;devPub&quot;:&quot;&lt;devPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;appPub&quot;:&quot;&lt;appPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;token&quot;:&quot;&lt;user token&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;room&quot;:&quot;&lt;roomId&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;last&quot;:&lt;number&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }&#x27;</span></div></div></div></div></div><p><strong>Returns</strong>:</p><ul><li><p>Success</p><blockquote><p>{&quot;chat&quot;:{&quot;speaker&quot;:&quot;&quot;,&quot;room&quot;:&quot;&quot;,&quot;message&quot;:&quot;&quot;,&quot;index&quot;:&quot;&quot;,&quot;appPub&quot;:&quot;&quot;,&quot;date&quot;:&quot;&quot;}}</p></blockquote></li><li><p>No new Messages</p><blockquote><p>{&quot;chat&quot;:{&quot;speaker&quot;:&quot;server&quot;,&quot;room&quot;:&quot;&quot;,&quot;message&quot;:&quot;none&quot;,&quot;index&quot;:&quot;-1&quot;}}</p></blockquote></li></ul><p><strong>Send Chat</strong>:</p><p>The message sent to the server needs to be encrypted using the key provided to you by various functions. If the message is not encrypted then the recipient will be unable to read the message.</p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>As stated before, the encryption is not mandatory at this stage. When it becomes so a new error message will be added to the returns and this message will be deleted.</p></div></div><p><strong>Call</strong>:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">msg=&#x27;{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;act&quot;:&quot;send_chat&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;devPub&quot;:&quot;&lt;devPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;appPub&quot;:&quot;&lt;appPub&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;token&quot;:&quot;&lt;user token&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;room&quot;:&quot;&lt;roomId&gt;&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    &quot;message&quot;:&quot;&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }&#x27;</span></div></div></div></div></div><p><strong>Returns</strong>:</p><ul><li><p>Success:</p><blockquote><p>{&quot;chat_response&quot;:{&quot;speaker&quot;:&quot;&quot;,&quot;room&quot;:&quot;roomId&quot;,&quot;message&quot;:&quot;received&quot;}}</p></blockquote></li><li><p>No Speaker:</p><blockquote><p>{&quot;chat_response&quot;:{&quot;speaker&quot;:&quot;server&quot;,&quot;message&quot;:&quot;couldn&#x27;t determine speaker&quot;}}</p></blockquote></li><li><p>No Room:</p><blockquote><p>{&quot;chat_response&quot;:{&quot;speaker&quot;:&quot;server&quot;,&quot;message&quot;:&quot;no room found at roomId&quot;}}</p></blockquote></li></ul><hr></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Open-Orchard/OpenSeed/edit/master/website/docs/core/chat.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/OpenSeed/docs/core/account"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Accounts</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/OpenSeed/docs/core/music"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Music »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#setup" class="contents__link">Setup</a><ul><li><a href="#get-conversations" class="contents__link">Get Conversations:</a></li><li><a href="#create-chatroom" class="contents__link">Create Chatroom:</a></li><li><a href="#finding-rooms" class="contents__link">Finding Rooms:</a></li><li><a href="#register-in-chat" class="contents__link">Register in Chat:</a></li><li><a href="#get-key" class="contents__link">Get Key:</a></li></ul></li><li><a href="#chat-room-functions" class="contents__link">Chat room Functions</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/OpenSeed/docs/doc1">Style Guide</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://discordapp.com/invite/87HjXNX">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://peakd.com/@openseed">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/Open-Orchard/OpenSeed">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Open Orchard, Inc. Built with Docusaurus.</div></div></div></footer>
</div>

<script src="/OpenSeed/styles.f99f6f6b.js"></script>

<script src="/OpenSeed/runtime~main.ca8c8091.js"></script>

<script src="/OpenSeed/main.9dff1857.js"></script>

<script src="/OpenSeed/1.77ac864f.js"></script>

<script src="/OpenSeed/2.c2d2da53.js"></script>

<script src="/OpenSeed/3.e33859dc.js"></script>

<script src="/OpenSeed/1be78505.78e5d47f.js"></script>

<script src="/OpenSeed/9acbcac7.98ee0c52.js"></script>

<script src="/OpenSeed/17896441.925f9cc8.js"></script>

<script src="/OpenSeed/a6f13642.dc09eced.js"></script>


</body>
</html>