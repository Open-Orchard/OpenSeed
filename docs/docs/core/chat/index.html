<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">


<title data-react-helmet="true">Chat | OpenSeed Docs</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Chat | OpenSeed Docs"><meta data-react-helmet="true" name="description" content="# Chat Module"><meta data-react-helmet="true" property="og:description" content="# Chat Module"><meta data-react-helmet="true" property="og:url" content="https://open-orchard.github.io/OpenSeed/docs/core/chat">

<link data-react-helmet="true" rel="shortcut icon" href="/OpenSeed/img/favicon.ico">


<link rel="stylesheet" href="/OpenSeed/styles.73ab9c40.css">


<link rel="preload" href="/OpenSeed/styles.d8c9a869.js" as="script">

<link rel="preload" href="/OpenSeed/runtime~main.caeec7be.js" as="script">

<link rel="preload" href="/OpenSeed/main.63a2a6cf.js" as="script">

<link rel="preload" href="/OpenSeed/1.b2d3f193.js" as="script">

<link rel="preload" href="/OpenSeed/2.7a0e4441.js" as="script">

<link rel="preload" href="/OpenSeed/3.cd355b64.js" as="script">

<link rel="preload" href="/OpenSeed/1be78505.e2dde223.js" as="script">

<link rel="preload" href="/OpenSeed/9acbcac7.d71bcda8.js" as="script">

<link rel="preload" href="/OpenSeed/17896441.171403fa.js" as="script">

<link rel="preload" href="/OpenSeed/a6f13642.c5f6fe37.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/OpenSeed/"><img class="navbar__logo" src="/OpenSeed/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">OpenSeed</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/OpenSeed/docs/about">Docs</a><a class="navbar__item navbar__link" href="/OpenSeed/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/Open-Orchard/OpenSeed" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/OpenSeed/"><img class="navbar__logo" src="/OpenSeed/img/logo.svg" alt="My Site Logo"><strong class="navbar__title">OpenSeed</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/OpenSeed/docs/about">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/blog">Blog</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/Open-Orchard/OpenSeed" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/about">About</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Game</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/about">About</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Godot</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/account">account</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/chat">chat</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/saves">saves</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/music">music</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/images">images</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/game/Godot/achievements">achievements</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Core</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/core/about">About</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/core/account">Accounts</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/OpenSeed/docs/core/chat">Chat</a></li><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/core/util">Utilities</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/OpenSeed/docs/web/about">About</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Chat</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="chat-module"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#chat-module" title="Direct link to heading">#</a>Chat Module</h1><p><em>Please refer to the the modules page for any definitions used in this document that may not be clear.</em></p><p>OpenSeed-chat is a lowest common denominator encrypted chat service for individuals and groups using the OpenSeed hierarchical security setup.  </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="current-implementation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#current-implementation" title="Direct link to heading">#</a>Current implementation:</h2><p>The chat module was designed with applications and games in mind where in these systems would control the flow of the chat based on the needs of the application and using the applications built in timing. Thus a application dependent on chat may query the server every second where an app that is less dependent may decrease the update requests for bandwidth or other issues. </p><ul><li><p>P2P chat: The standard chat model within OpenSeed. Users have consented to the connection an have shared (via OpenSeed) the encryption key. No users can be added to this chat and will continue to be valid as long as the users of the chat retain the key. </p></li><li><p>Group chat: Group chats come in two modes, an open mode where any user can join the chat as long as they are authenticated, and private groups whose list is controlled by the creator of the group. </p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="using-openseed-chat"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#using-openseed-chat" title="Direct link to heading">#</a>Using OpenSeed-chat:</h3><p>This module requires an active developer, application, and valid user account on OpenSeed to complete the transaction. </p><p>A chat session works in this order.</p><ol><li><p>User initiates a chat with another user via request. If the request has be accepted the two are now able to chat.</p></li><li><p>The User is now &quot;linked&quot; with the other User and can starts chats with them at any time. If a chat room has not been created for them a new room is created with a new encryption key.</p></li><li><p>The users can now chat using this key.</p></li></ol><p>If one of the users removes their consent from the chat the link is broken and chatting between the users isn&#x27;t allowed until the link is re-established.</p><p>NOTE: We will assume you have your accounts in order for the next section. </p><p>Almost all (soon to be all) functions in OpenSeed will return a json formatted response to a json formatted request.</p><p>Example:
{
&quot;act&quot;:&quot;get_chat&quot;,
&quot;appID&quot;:&quot;&quot;,
&quot;devID&quot;:&quot;&quot;,
&quot;uid&quot;:&quot;&quot;,
&quot;username2&quot;:&quot;&quot;,
&quot;room&quot;:&quot;&quot;,
&quot;last&quot;:&quot;&quot;
}</p><p>Will return:
{
&quot;index&quot;:number,
&quot;message&quot;:encrypted data,
&quot;date&quot;:date,
&quot;type&quot;:type
}</p><p><em>The above is from the Godot library but the Qt version is very similar. The webapp version will need to be changed slightly due to security concerns.</em> </p><p>For ease-of-use the OpenSeed library shortens these calls to a simpler uniform function that spans the library regardless to the toolkit.</p><p>The functions are a follows with a brief explanation of their task (if it isn&#x27;t obvious)</p><ul><li><p><strong>check_chat(uid,username2)</strong> : Checks for the existence and status of a chat room. These range from 0 - 3 with 0 meaning there is no chat room to 3 meaning the room is closed.</p></li><li><p><strong>start_chat(uid, username2)</strong> : Initializes a chat between two users, using the uid of the first user to verify that the chat is indeed created by the owner of the account. This function creates the encryption key on the server for the users to share. </p></li><li><p><strong>register_chat(uid,username2)</strong> : If the chatroom is created you must register to receive the key. </p></li></ul><p><em>Note: The above commands would best work in conjunction with each other where in you would check, then either register or start the chat depending on the response. It is kept separate for the rare cases when they might be useful as single functions.</em></p><ul><li><p><strong>send_chat(uid,username1, username2, message)</strong> : Sends chat message to the appointed chatroom. The message is encrypted before sending the message and stored as a binary blob.</p></li><li><p><strong>get_chat(uid,username2)</strong> : Gets chat for the selected users. </p></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/Open-Orchard/OpenSeed/edit/master/website/docs/core/chat.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/OpenSeed/docs/core/account"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Accounts</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/OpenSeed/docs/core/util"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Utilities »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#current-implementation" class="contents__link">Current implementation:</a><ul><li><a href="#using-openseed-chat" class="contents__link">Using OpenSeed-chat:</a></li></ul></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/OpenSeed/docs/doc1">Style Guide</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://discordapp.com/invite/87HjXNX">Discord</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://peakd.com/@openseed">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/Open-Orchard/OpenSeed">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Open Orchard, Inc. Built with Docusaurus.</div></div></div></footer>
</div>

<script src="/OpenSeed/styles.d8c9a869.js"></script>

<script src="/OpenSeed/runtime~main.caeec7be.js"></script>

<script src="/OpenSeed/main.63a2a6cf.js"></script>

<script src="/OpenSeed/1.b2d3f193.js"></script>

<script src="/OpenSeed/2.7a0e4441.js"></script>

<script src="/OpenSeed/3.cd355b64.js"></script>

<script src="/OpenSeed/1be78505.e2dde223.js"></script>

<script src="/OpenSeed/9acbcac7.d71bcda8.js"></script>

<script src="/OpenSeed/17896441.171403fa.js"></script>

<script src="/OpenSeed/a6f13642.c5f6fe37.js"></script>


</body>
</html>